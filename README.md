# quiz API

![example workflow](https://github.com/daminovvv/quiz-api/actions/workflows/main.yaml/badge.svg)

---
## Описание
quiz API - это веб сервис для обработки вопросов для викторины

Стек:
- FastAPI
- SQLAlchemy ORM
- Alembic
- Postgres
- Docker

Сервис поддерживает следующие функции:
- POST questions/ принимает на вход Body типа {"questions_num": integer}. Запрашивает указанное количество вопросов со стороннего API и записывает в базу необходимые значения вопросов. Если конкретный вопрос уже существует, то продолжает делать запросы на сторонний сервис пока не будет получен уникальный вопрос. В response отправляет последний сохраненный в БД вопрос или пустой объект в случае его отсутствия.
- GET questions/ отправляет последний сохраненный в БД вопрос или пустой объект в случае его отсутствия
- GET questions/all/ отправляет список всех вопросов имеющихся в БД



---
## Установка

---
### Шаги ДОКЕР
#### Кратко
- [ ] установить docker
- [ ] клонировать репозиторий
- [ ] запустить контейнер


#### 1. Установка Docker
https://docs.docker.com/desktop/install/windows-install/


#### 2. Клонирование репозитория
Создаем папку, заходим в неё, клонируем репозиторий.
```
md quiz-api
cd quiz-api
git clone https://github.com/daminovvv/quiz-api.git
```


#### 3. Запуск контейнера
В папке проекта выполнить:
```
docker compose up
```

#### 4. Запрос к API
Документацию OpenAPI можно найти на

http://127.0.0.1:8000/docs/

### Запуск локально

```
uvicorn src.main:app --reload
```
